{% extends './base.html' %}
{% load static %}

{% block styles %}
    <link rel="stylesheet" type="text/css" href="{% static 'blog/nav.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'blog/footer.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'blog/index.css' %}">
{% endblock %}

{% if error %}
    {% include 'blog/error.html' with error=error %}
{% endif %}

{% block body %}
    {% include './nav.html' %}

    <main>
        <h1>NULL++ Blog</h1>
        <p><a href='/post/'>Write a post</a></p>
    
        {% for post in post_list %}
            <div class='post'>
                <a href='/post/{{ post.id }}/'>
                    {% if post.image %}
                        <img src='{{ post.image.url }}' />
                    {% endif %}
                    <h3>{{ post.title }}</h3>
                    <p>{{ post.content|make_list|slice:"0:256"|join:""|add:"..." }}</p>
                    <p>{{ post.author }}</p>
                    <p>{{ post.pub_date }}</p>
                </a>
            </div>
        {% endfor %}
    </main>

    {% include './footer.html' %}
{% endblock %}